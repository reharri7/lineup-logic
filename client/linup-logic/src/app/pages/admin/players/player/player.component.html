<div class="container mx-auto p-4">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Players Management</h1>
    <button class="btn btn-outline tooltip" data-tip="Press Esc to go back" routerLink="/admin/players">Back to Players</button>
  </div>

  @if (isRecordLoading) {
    <div class="flex justify-center my-4">
      <span class="loading loading-spinner loading-lg"></span>
    </div>
  } @else {

    <div class="card bg-base-200 p-4">
      <form [formGroup]="formGroup" class="space-y-4">
        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Player Name</span>
          </label>
          <input #nameInput type="text" placeholder="Player Name" formControlName="name" class="input input-bordered w-full">
        </div>

        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Player Number</span>
          </label>
          <input type="number" placeholder="Player Number" formControlName="number" class="input input-bordered w-full">
        </div>

        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Team</span>
          </label>
          <app-teams-dropdown [control]="teamControl"></app-teams-dropdown>
        </div>

        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Position</span>
          </label>
          <app-positions-dropdown [control]="positionControl"></app-positions-dropdown>
        </div>
      </form>
    </div>

    <div class="flex gap-2 mt-4">
      <button class="btn btn-primary tooltip" [attr.data-tip]="modifierKeyText + '+S to save'" (click)="onSubmit()">Submit</button>
      @if (!!recordId) {
        <button class="btn btn-error tooltip" [attr.data-tip]="modifierKeyText + '+D to delete'" (click)="onDelete()">Delete</button>
      }
    </div>
  }
</div>

